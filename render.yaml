# Render.com Deployment Configuration
# Deploy PyKV for FREE on Render.com
# 
# Instructions:
# 1. Push this file to your GitHub repository
# 2. Go to https://render.com and sign up (free)
# 3. Click "New +" â†’ "Web Service"
# 4. Connect your GitHub repository
# 5. Render will auto-detect this file and deploy!
#
# Your PyKV will be live at: https://your-app-name.onrender.com

services:
  - type: web
    name: pykv-server
    env: python
    region: oregon  # Change to: oregon, frankfurt, singapore, ohio
    plan: free
    buildCommand: pip install --upgrade pip && pip install -r requirements.txt
    startCommand: python -m uvicorn app.main:app --host 0.0.0.0 --port $PORT
    
    # Environment Variables
    envVars:
      - key: PYTHON_VERSION
        value: 3.11
      - key: STORE_CAPACITY
        value: 1000
      - key: COMPACTION_INTERVAL
        value: 300
      - key: CLEANUP_INTERVAL
        value: 60
    
    # Health Check
    healthCheckPath: /health
    
    # Auto-deploy on git push
    autoDeploy: true
